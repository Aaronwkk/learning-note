### Vite 总结

在开发环境下，由 esbuild 执行依赖预构建工作
在生产环境下，由 Rollup 完成打包工作

2、依赖预构建
Vite 将应用中的模块区分为 依赖 和 源码 两类，改进了开发服务器启动时间

依赖模块： 简单理解为在代码中引用的第三方模块。
源码模块： 简单理解为，我自己写的那部分代码。
Vite 在开发环境下并不会对源码模块进行打包处理，只会对依赖模块打包，并采用打包极快的 esbuild 完成打包工作。

然后将打包后生成的 JS 文件，保存在当前项目的node_modules/.vite目录下缓存起来，同时对该文件做浏览器强缓存，以提高开发期间页面重新加载的性能。

3、Vite 开发服务启动极快的原因
Vite 之所以能快速的启动服务，主要是做了以下几方面优化

Vite 以原生 ESM 方式提供源码（源码不打包），让浏览器接管了打包程序的部分工作
使用 esbuild 预构建依赖和加快构建速度
对预构建的依赖做文件缓存与浏览器缓存
启动应用时按需提供代码
内置了一套原生 ESM 的模块热替换（HMR

