# 什么是 CDN

CDN，全称为内容分发网络（Content Delivery Network），是一种构建在现有互联网基础之上的智能虚拟网络。其核心目的是通过将网站内容分发至全球多个不同地理位置的边缘节点服务器，来提高用户访问网站的速度和稳定性。CDN的工作机制主要包括以下几个关键环节：

内容缓存：CDN会在各个边缘节点预先缓存网站的静态资源（如图片、视频、CSS、JavaScript文件等）以及部分动态内容，这些节点遍布于用户访问较为集中的地区和网络中。

DNS重定向：当用户请求访问网站时，通过DNS系统解析，用户的请求会被导向离其物理位置最近或者网络状况最佳的CDN边缘节点，而不是直接访问源服务器。

负载均衡：CDN系统具备全局负载均衡能力，能够根据网络状况、服务器健康状况及用户位置等因素，智能地将用户请求分配给最适合的边缘节点服务器，以避免单点过载，确保服务的高可用性。

动态内容分发：对于动态内容，CDN可以通过与源服务器的即时通信，实现高效的内容回源，同时利用优化的网络路径加速内容传输。

CDN的优势在于：

加速访问：用户从距离更近的节点获取内容，显著减少网络延迟。
缓解源服务器压力：大部分请求由CDN边缘节点处理，减少了对源服务器的直接访问，保护了源站资源。
提升可用性和稳定性：即便某几个节点出现故障，用户请求可以迅速被重定向到其他正常工作的节点，保证服务连续性。
节省带宽成本：通过缓存和有效分发，减少回源请求，帮助网站所有者降低数据中心的带宽消耗和成本。
CDN广泛应用于需要全球覆盖、高流量、高并发访问的网站、在线视频、直播平台、电子商务、大型企业应用等多种互联网服务中。

# 如何清除 CDN中的缓存

清除CDN中的缓存通常涉及以下几个步骤，具体操作可能根据不同的CDN服务商有所差异，但大体流程相似：

登录CDN管理后台： 首先，需要登录到提供CDN服务的供应商的管理控制台。这通常需要账户的用户名和密码。

定位缓存管理功能： 在管理后台中，找到与“缓存管理”、“刷新缓存”或类似命名的功能模块。这个功能可能位于域名管理、资源管理或者专门的缓存设置部分。

选择刷新方式：

全站刷新：如果希望清除整个站点的缓存内容，可以选择全站刷新选项。这会清除所有边缘节点上关于该站点的缓存数据。
目录或文件刷新：如果只需要清除特定目录下或某个文件的缓存，可以选择目录刷新或文件刷新，并输入相应的URL路径或文件名。
预热：虽然不是直接清除缓存，但通过预热功能可以将最新的内容推送至边缘节点，间接实现缓存更新。
执行刷新操作： 确认选择的刷新选项无误后，点击“刷新”或“提交”按钮开始清除过程。根据缓存内容的大小和CDN服务商的处理速度，这个过程可能需要几分钟到几小时不等。

使用API清除： 如果CDN服务商提供了API接口，开发者还可以通过编程方式调用Purge API来清除缓存。这通常需要编写代码并发送HTTP请求到指定的API端点。

监控刷新状态： 大多数CDN控制台会提供刷新任务的状态监控，你可以查看任务是否成功执行以及进度情况。

修改缓存规则： 另外，通过调整缓存规则，如设置较短的过期时间或直接设置为不过期，也是一种间接促使缓存更新的方式。但这种方式不会立即清除已缓存的内容，而是影响未来缓存的行为。